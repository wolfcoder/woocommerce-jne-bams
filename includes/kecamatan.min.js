jQuery.noConflict();(function(c){c("#billing_kecamatan").keyup(a);function a(){var d=jQuery("#billing_kecamatan").val();if(d!=""&&d.length>3){c("#kecamatan-wrapper").empty();var f="http://127.0.0.1:8080/wptemplates/api-ongkir/api.php/denpasar?filter=kecamatan,cs,"+d;c.ajax({url:f,type:"GET",statusCode:{404:function(){alert("page not found")}},complete:function(g){e(g);console.log("ajax front end")}});function e(j){if(c("#kecamatan-wrapper").length==0){c(".update-kecamatan").append('<div id="kecamatan-wrapper"> </div>');var k=c("#billing_kecamatan").position();c("#kecamatan-wrapper").css({left:k.left+1,top:k.top+45})}jsonObject=b(JSON.parse(j.responseText));var h=jsonObject[Object.keys(jsonObject)[0]];for(var g=0;g<h.length;g++){c("#kecamatan-wrapper").append('<div class="kecamatan-select">'+h[g]["kecamatan"]+", "+h[g]["kota"]+"</div>")}}}else{console.log("input kecamatan belum lengkap atau salah")}}c(document).on("click",".kecamatan-select",function(){var f=c(this).text().split(",");var d=f[0];var e=c.trim(f[1]);c("#billing_kecamatan").val(d);c("#billing_city").val(e);c("#kecamatan-wrapper").remove();c.ajax({url:jnekecamatan.ajax_url,type:"post",data:{action:"select_kecamatan_JNE",kota:e,kecamatan:d},beforeSend:function(){console.log("start request xhr"+e+d)},error:function(){console.log("errrorr")},success:function(g){console.log("sukses"+g)}});return false});function b(e){var h=function(k){var j,i={};for(j in k){i[k[j]]=j}return i};var g=function(s,n,k,u){var t=[];for(var o in s[n]["records"]){o=s[n]["records"][o];if(!k||o[k]==u){var m={};for(var p in s[n]["columns"]){var j=s[n]["columns"][p];m[j]=o[p];for(var i in s){var l=s[i];for(var r in l.relations){var q=l.relations[r];if(q==n+"."+j){column_indices=h(l.columns);m[i]=g(s,i,column_indices[r],o[p])}}}}t.push(m)}}return t};tree={};for(var d in e){var f=e[d];if(!f.relations){tree[d]=g(e,d);if(f.results){tree._results=f.results}}}return tree}})(jQuery);